{% load i18n %}
<style>
	.btn-log-out{
		background-color: transparent;
		border: none;
	}
</style>

<!--begin::User account menu-->
<div class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-800 menu-state-bg menu-state-color fw-semibold py-4 fs-6 w-275px" data-kt-menu="true">
	<!--begin::Menu item-->
	<div class="menu-item px-3">
		<div class="menu-content d-flex align-items-center px-3">
			<!--end::Avatar-->
			<!--begin::Username-->
			<div class="d-flex flex-column">
				<div class="fw-bold d-flex align-items-center fs-5">{{user.email}}
				<span class="badge badge-light-success fw-bold fs-8 px-2 py-1 ms-2">Pro</span></div>
			</div>
			<!--end::Username-->
		</div>
	</div>
	<!--end::Menu item-->
	<!--begin::Menu separator-->
	<div class="separator my-2"></div>
	<!--end::Menu separator-->
	<!--begin::Menu item-->
	<div class="menu-item px-5">
		<a href="#" class="menu-link px-5">{% trans 'My Profile' %}</a>
	</div>
	<!--end::Menu item-->
	<!--begin::Menu item-->
	<div class="menu-item px-5">
		<a href="#" class="menu-link px-5">
			<span class="menu-text">{% trans 'My Projects' %}</span>
			<span class="menu-badge">
				<span class="badge badge-light-danger badge-circle fw-bold fs-7">3</span>
			</span>
		</a>
	</div>
	<!--end::Menu item-->
	<!--begin::Menu item-->
	<div class="menu-item px-5" data-kt-menu-trigger="{default: 'click', lg: 'hover'}" data-kt-menu-placement="left-start" data-kt-menu-offset="-15px, 0">
		<a href="#" class="menu-link px-5">
			<span class="menu-title">{% trans 'My Subscription' %}</span>
			<span class="menu-arrow"></span>
		</a>
		<!--begin::Menu sub-->
		<div class="menu-sub menu-sub-dropdown w-175px py-4">
			<!--begin::Menu item-->
			<div class="menu-item px-3">
				<a href="#" class="menu-link px-5">{% trans 'Referrals' %}</a>
			</div>
			<!--end::Menu item-->
			<!--begin::Menu item-->
			<div class="menu-item px-3">
				<a href="#" class="menu-link px-5">{% trans 'Billing' %}</a>
			</div>
			<!--end::Menu item-->
			<!--begin::Menu item-->
			<div class="menu-item px-3">
				<a href="#" class="menu-link px-5">{% trans 'Billing' %}</a>
			</div>
			<!--end::Menu item-->
			<!--begin::Menu item-->
			<div class="menu-item px-3">
				<a href="#" class="menu-link d-flex flex-stack px-5">{% trans 'Statements' %}
				<span class="ms-2" data-bs-toggle="tooltip" title="View your statements"></span></a>
			</div>
			<!--end::Menu item-->
			<!--begin::Menu separator-->
			<div class="separator my-2"></div>
			<!--end::Menu separator-->
			<!--begin::Menu item-->
			<div class="menu-item px-3">
				<div class="menu-content px-3">
					<label class="form-check form-switch form-check-custom form-check-solid">
						<input class="form-check-input w-30px h-20px" type="checkbox" value="1" checked="checked" name="notifications" />
						<span class="form-check-label text-muted fs-7">{% trans 'Notifications' %}</span>
					</label>
				</div>
			</div>
			<!--end::Menu item-->
		</div>
		<!--end::Menu sub-->
	</div>
	<!--end::Menu item-->
	<!--begin::Menu item-->
	<div class="menu-item px-5">
		<a href="#" class="menu-link px-5">{% trans 'My Statements' %}</a>
	</div>
	<!--end::Menu item-->
	<!--begin::Menu separator-->
	<div class="menu-item px-5" data-kt-menu-trigger="{default: 'click', lg: 'hover'}" data-kt-menu-placement="left-start" data-kt-menu-offset="-15px, 0">
		<a href="#" class="menu-link px-5">
			<span class="menu-title position-relative">{% translate 'Language' %} 
		</a>
		<form id="languageForm" action="{% url 'dashboards:change_language' user.id %}" method="post">
			{% csrf_token %}
			<input type="hidden" id="select_language" name="select_language" value="">
		</form>
		<!--begin::Menu sub-->
		<div class="menu-sub menu-sub-dropdown w-175px py-4">
			<!--begin::Menu item-->
			<div class="menu-item px-3">
				<a href="#" class="menu-link d-flex px-5" onclick="submitLanguage('en')">
				<span class="symbol symbol-20px me-4">
				</span>{% trans 'English' %}</a>
			</div>
			<!--end::Menu item-->
			<!--begin::Menu item-->
			<div class="menu-item px-3">
				<a href="#" class="menu-link d-flex px-5" onclick="submitLanguage('fr')">
				<span class="symbol symbol-20px me-4">
				</span>{% trans 'French' %}</a>
			</div>
			<!--end::Menu item-->
			<!--begin::Menu item-->
			<div class="menu-item px-3">
				<a href="#" class="menu-link d-flex px-5" onclick="submitLanguage('es')">
				<span class="symbol symbol-20px me-4">
				</span>{% trans 'Spanish' %}</a>
			</div>
			<!--end::Menu item-->
			<!--begin::Menu item-->
			<div class="menu-item px-3">
				<a href="#" class="menu-link d-flex px-5" onclick="submitLanguage('ar')">
				<span class="symbol symbol-20px me-4">
				</span>{% trans 'Arabic' %}</a>
			</div>
			<!--end::Menu item-->
		</div>
		<!--end::Menu sub-->
	</div>
	<!--end::Menu separator-->
	<!--begin::Menu item-->
	<div class="menu-item px-5" data-kt-menu-trigger="{default: 'click', lg: 'hover'}" data-kt-menu-placement="left-start" data-kt-menu-offset="-15px, 0">
		<a href="#" class="menu-link px-5">
			<span class="menu-title position-relative">{% translate 'Timezone' %} 
		</a>
		<form id="timezoneForm" action="{% url 'dashboards:change_timezone' user.id %}" method="post">
			{% csrf_token %}
			<input type="hidden" id="selectedTimezone" name="selectedTimezone" value="">
		</form>
		<!--begin::Menu sub-->
		<div class="menu-sub menu-sub-dropdown w-175px py-4">
			<!--begin::Menu item-->
			<div class="menu-item px-3">
				<a href="#" class="menu-link d-flex px-5" onclick="submitTimezone('UTC')">
				<span class="symbol symbol-20px me-4">
				</span>UTC</a>
			</div>
			<!--end::Menu item-->
			<!--begin::Menu item-->
			<div class="menu-item px-3">
				<a href="#" class="menu-link d-flex px-5" onclick="submitTimezone('America/Los_Angeles')">
				<span class="symbol symbol-20px me-4">
				</span>PST</a>
			</div>
			<!--end::Menu item-->
			<!--begin::Menu item-->
			<div class="menu-item px-3">
				<a href="#" class="menu-link d-flex px-5" onclick="submitTimezone('Europe/Paris')">
				<span class="symbol symbol-20px me-4">
				</span>CET</a>
			</div>
			<!--end::Menu item-->
			<!--begin::Menu item-->
			<div class="menu-item px-3">
				<a href="#" class="menu-link d-flex px-5" onclick="submitTimezone('Australia/Sydney')">
				<span class="symbol symbol-20px me-4">
				</span>AEST</a>
			</div>
			<!--end::Menu item-->
			<!--begin::Menu item-->
			<div class="menu-item px-3">
				<a href="#" class="menu-link d-flex px-5" onclick="submitTimezone('Asia/Kolkata')">
				<span class="symbol symbol-20px me-4">
				</span>IST</a>
			</div>
			<!--end::Menu item-->
		</div>
		<!--end::Menu sub-->
	</div>
	<!--end::Menu item-->
	<!--begin::Menu item-->
	<div class="menu-item px-5 my-1">
		<a href="#" class="menu-link px-5">{% trans 'Account Settings' %}</a>
	</div>
	<!--end::Menu item-->
	<!--begin::Menu item-->
	<div class="menu-item px-5">
		<form action="{% url 'auth:logout' %}" method="post">
			{% csrf_token %}
			<button type="submit" class="menu-link btn-log-out px-5">{% trans 'Sign Out' %}</button>
		</form>
		<!-- <a href="/" class="menu-link px-5">Sign Out</a> -->
	</div>
	<!--end::Menu item-->
</div>
<!--end::User account menu-->

<script>
    function submitTimezone(timezone) {
        document.getElementById('selectedTimezone').value = timezone;
		document.getElementById('timezoneForm').submit();
        
    }

	function submitLanguage(language){
		document.getElementById('select_language').value = language;
		document.getElementById('languageForm').submit();
	}
</script>
